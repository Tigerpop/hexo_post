---
layout: posts
title: "5-bct挖矿"
date: 2025-01-10 21:09:10
description: "这是文章开头，显示在主页面，详情请点击此处。"
categories: 
- "区块链"
tags:
- "btc"
- "挖矿"



---

简介 <!--more-->



# 全结点

![截屏2024-11-24 17.40.47](5-bct%E6%8C%96%E7%9F%BF/%E6%88%AA%E5%B1%8F2024-11-24%2017.40.47.png)



# 轻结点

![截屏2024-11-24 20.03.19](5-bct%E6%8C%96%E7%9F%BF/%E6%88%AA%E5%B1%8F2024-11-24%2020.03.19.png)



# 矿机挖矿

**mining puzzle** 一样的币，才能用一样的矿机来挖，矿机原则上一个币种一种矿机，有的小币为了 能够有人来挖，就碰瓷 大币的 mining puzzle。



# 矿池

![截屏2024-11-24 20.14.27](5-bct%E6%8C%96%E7%9F%BF/%E6%88%AA%E5%B1%8F2024-11-24%2020.14.27.png)



## 工作量证明

用这个 nonce 计算 block header 的hash ， 例如以前 要求前面70个零，现在 给每个miner 要求60个零，降低了难度，这样的一个叫 share。minerr 挖出来一个 almost valid block，这个不是 btc区块链上的block，而是专门用来证明工作量的，算出的这个share量越多也就是 almost valid block越多，证明工作量越多，按照这个发矿池奖励。

## 防止miner私自取走挖到的币

光是调整nonce 是不够的，还要调整 coinbase 等等其他几项，为了防止miner私自取走挖到的币，pool manager 可能是把不同coinbase 对应的 nonce 交给不同的矿工去mining，前面说过这个 coinbase 中 有收款的地址，这个地址填写的是pool manager的地址，miner 是取不出钱的。如果miner 改了收款地址，挖矿提交的工作量证明矿主又不会认可，这相当于一开始miner 就在单挖，和矿池没有关系。

## 捣乱

矿池之间竞争，在对手那里挖矿，挖到了故意不提交    作为minner，自己挖到了取不走，也不让pool manager拿走。

## 实现51%攻击

![截屏2024-11-24 20.30.26](5-bct%E6%8C%96%E7%9F%BF/%E6%88%AA%E5%B1%8F2024-11-24%2020.30.26.png)

一、如果有 51% 算力的坏人，可以平时把算力以minner形式隐藏在各个矿池之间，攻击时再出来单干。出来进去 或者在矿池之间跳来跳去是很容易的，只需要和pool manager 之间搞一个加入矿池协议就行。

二、直接由 pool manager 召集大家，实现 51% 攻击，只要他号召力够大，这样的攻击就容易实现。

**回滚：**

![截屏2024-11-24 20.36.30](5-bct%E6%8C%96%E7%9F%BF/%E6%88%AA%E5%B1%8F2024-11-24%2020.36.30.png)

B以为有6个block 就安全了，实际上，只要A 有51%算力想要回滚掉交易，只需要慢慢追赶就行了，总有一个时刻追上并超越，让B所在的链 变成 孤儿链。

**boycott抵制：**

公开抵制每一个交易，51%算力可以让自己想要的链成为最长，可以把有这个交易的链挤掉。



以上的 51% 只是一个 概率，比较高的 占比都能达到这个效果。







